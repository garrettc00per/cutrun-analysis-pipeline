// nextflow.config

// Parameters
params {
    bedgraph_dir = "${projectDir}/results/normalized_bedgraphs"
    outdir = 'results'
    seacr_script = "${projectDir}/SEACR_1.3.sh"
    test_mode = false

    // Peak filtering strategy
    filter_method = 'hybrid'  // Options: 'snr', 'fixed', 'hybrid'
    fixed_threshold = 5.0
    snr_multiplier = 2.0 
}

// Process configuration
process {
    executor = 'local'
    maxForks = 18  // Run 18 samples in parallel
    
    // Specific settings for peak calling processes
    withName: 'calculateIgGStats' {
        cpus = 1
        memory = '2 GB'
    }
    
    withName: 'callPeaks' {
        cpus = 2
        memory = '4 GB'
    }
    
    withName: 'filterPeaks' {
        cpus = 1
        memory = '2 GB'
    }
}

// Where Nextflow stores temporary work files
workDir = './work'

// Execution reports
timeline {
    enabled = true
    file = 'timeline.html'
}

report {
    enabled = true
    file = 'report.html'
}
